<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Echo - Voice Social Platform</title>
  <!-- Link to external CSS -->
  <link rel="stylesheet" href="style.css" />
  <!-- Google Material Icons -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
</head>
<body>
  <div class="layout">
    <!-- Left Sidebar -->
    <nav class="sidebar-left">
      <div class="logo-container">
        <div class="logo">
          <div class="logo-waveform">
            <div class="waveform-bar"></div>
            <div class="waveform-bar"></div>
            <div class="waveform-bar"></div>
            <div class="waveform-bar"></div>
            <div class="waveform-bar"></div>
            <div class="waveform-bar"></div>
            <div class="waveform-bar"></div>
          </div>
          <div class="logo-text">
            <span class="logo-echo">Echo</span>
            <span class="logo-tagline">EMOTIONS UNMUTED</span>
          </div>
        </div>
      </div>
      <div class="nav-links">
        <a href="#" class="nav-link active">
          <span class="material-symbols-outlined">home</span>
          <span>Home</span>
        </a>
        <a href="#" class="nav-link">
          <span class="material-symbols-outlined">notifications</span>
          <span>Notifications</span>
        </a>
        <a href="#" class="nav-link">
          <span class="material-symbols-outlined">mail</span>
          <span>Messages</span>
        </a>
        <a href="#" class="nav-link">
          <span class="material-symbols-outlined">auto_stories</span>
          <span>Voice Stories</span>
        </a>
        <a href="#" class="nav-link">
          <span class="material-symbols-outlined">campaign</span>
          <span>Live Rooms</span>
        </a>
        <a href="#" class="nav-link">
          <span class="material-symbols-outlined">mood</span>
          <span>Emotion Filter</span>
        </a>
        <a href="#" class="nav-link">
          <span class="material-symbols-outlined">bookmark</span>
          <span>Saved</span>
        </a>
        <a href="#" class="nav-link" id="profileLink">
          <span class="material-symbols-outlined">person</span>
          <span>Profile</span>
        </a>
        <button id="darkModeToggle" class="dark-mode-toggle">
          <span class="material-symbols-outlined">dark_mode</span>
          <span class="toggle-text">Dark Mode</span>
        </button>
        <button class="record-btn">
          <span class="material-symbols-outlined">mic</span>
          Record
        </button>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Live Room Banner -->
      <a href="liveroom.html" class="live-room-banner" style="text-decoration: none; color: inherit; display: block;">
        <div class="live-room-icon">
          <div class="wave-icon">
            <span class="material-symbols-outlined">graphic_eq</span>
          </div>
        </div>
        <h2 class="live-room-title">Live Room</h2>
        <p class="live-room-description">
          <span class="animated-text text1">Real voices. Real emotions. Join the moment and speak your truth.</span>
          <span class="animated-text text2">Where conversations aren't just heard â€” they're felt.</span>
          <span class="animated-text text3">Speak. Feel. Connect.</span>
          <span class="animated-text text4">Live the moment, out loud.</span>
        </p>
        <div class="live-room-stats">
          <div class="stat">
            <span class="material-symbols-outlined">meeting_room</span>
            8 Total Rooms
          </div>
        </div>
        <button class="join-room-btn">
          <span class="material-symbols-outlined">mic</span>
          Join Room
        </button>
      </a>

      <header class="main-header">
        <div class="tabs">
          <button class="tab-btn active" data-tab="foryou">For You</button>
          <button class="tab-btn" data-tab="trending">Trending</button>
          <button class="tab-btn" data-tab="following">Following</button>
        </div>
      </header>

      <!-- Voice Composer -->
      <div class="voice-composer">
        <div class="composer-header">
          <div class="bitmoji-container user-avatar">
            <svg viewBox="0 0 100 100" class="bitmoji">
              <circle cx="50" cy="50" r="45" fill="#FFD180"/>
              <circle cx="50" cy="45" r="35" fill="#FFAB40"/>
              <circle cx="35" cy="40" r="5" fill="#212121"/>
              <circle cx="65" cy="40" r="5" fill="#212121"/>
              <path d="M35 60 Q50 70 65 60" fill="none" stroke="#212121" stroke-width="3" stroke-linecap="round"/>
            </svg>
          </div>
          <div class="button-container">
            <button id="recordButton" class="record-voice-btn" aria-label="Record Voice">
              <span class="material-symbols-outlined">mic</span>
              Record Voice
            </button>
            <button id="stopButton" class="record-voice-btn" style="display: none;" aria-label="Stop Recording">
              <span class="material-symbols-outlined">stop</span>
              Stop Recording
            </button>
            <button id="playButton" class="record-voice-btn" style="display: none;" aria-label="Play Recording">
              <span class="material-symbols-outlined">play_arrow</span>
              Preview
            </button>
          </div>
        </div>
      </div>

      <!-- Feed -->
      <div id="feedContainer" class="feed"></div>

      <!-- Profile View Template -->
      <template id="profileViewTemplate">
        <div class="profile-view">
          <!-- Header with name and settings -->
          <div class="profile-header-top">
            <div class="profile-title">
              <h1>Alex Morgan</h1>
              <div class="subtitle">5.2K Voice Notes</div>
            </div>
            <button class="settings-btn">
              <span class="material-symbols-outlined">settings</span>
            </button>
          </div>

          <!-- Profile Banner -->
          <div class="profile-banner">
            <div class="banner-gradient"></div>
          </div>

          <!-- Profile Info Section -->
          <div class="profile-info-section">
            <div class="profile-avatar-container">
              <div class="bitmoji-container profile-avatar">
                <svg viewBox="0 0 100 100" class="bitmoji">
                  <circle cx="50" cy="50" r="45" fill="#FFD180"/>
                  <circle cx="50" cy="45" r="35" fill="#FFAB40"/>
                  <circle cx="35" cy="40" r="5" fill="#212121"/>
                  <circle cx="65" cy="40" r="5" fill="#212121"/>
                  <path d="M35 60 Q50 70 65 60" fill="none" stroke="#212121" stroke-width="3" stroke-linecap="round"/>
                </svg>
              </div>
            </div>
            
            <div class="profile-details">
              <h2>Alex Morgan</h2>
              <span class="profile-handle">@alexmorgan</span>
              
              <p class="profile-bio">
                Voice creator sharing thoughts on technology, design, and everyday life. Join me on this audio journey!
              </p>
              
              <div class="profile-metadata">
                <span class="metadata-item">
                  <span class="material-symbols-outlined">calendar_today</span>
                  Joined February 2024
                </span>
                <span class="metadata-item">
                  <span class="material-symbols-outlined">location_on</span>
                  San Francisco, CA
                </span>
                <span class="metadata-item">
                  <span class="material-symbols-outlined">link</span>
                  <a href="https://alexmorgan.com" target="_blank">alexmorgan.com</a>
                </span>
              </div>

              <div class="profile-stats">
                <a href="#" class="stat-link"><span class="stat-number" id="followingCount">342</span> Following</a>
                <a href="#" class="stat-link"><span class="stat-number" id="followersCount">5.2K</span> Followers</a>
              </div>

              <button class="edit-profile-btn">Edit Profile</button>
              <button class="more-options-btn">
                <span class="material-symbols-outlined">more_horiz</span>
              </button>
            </div>
          </div>

          <!-- Voice Stats Card -->
          <div class="voice-stats-card">
            <h3>Voice Stats</h3>
            <div class="stats-grid">
              <div class="stat-item">
                <div class="stat-icon">
                  <span class="material-symbols-outlined">mic</span>
                </div>
                <div class="stat-value" id="postsCount">5.2K</div>
                <div class="stat-label">Voice Notes</div>
              </div>
              <div class="stat-item">
                <div class="stat-icon">
                  <span class="material-symbols-outlined">favorite</span>
                </div>
                <div class="stat-value">12.8K</div>
                <div class="stat-label">Likes</div>
              </div>
              <div class="stat-item">
                <div class="stat-icon">
                  <span class="material-symbols-outlined">chat_bubble</span>
                </div>
                <div class="stat-value">3.4K</div>
                <div class="stat-label">Replies</div>
              </div>
              <div class="stat-item">
                <div class="stat-icon">
                  <span class="material-symbols-outlined">repeat</span>
                </div>
                <div class="stat-value">1.2K</div>
                <div class="stat-label">Reposts</div>
              </div>
            </div>
          </div>

          <!-- Emotion Spectrum Card -->
          <div class="emotion-spectrum-card">
            <h3>Your Emotion Spectrum</h3>
            <div class="emotion-list">
              <div class="emotion-item">
                <div class="emotion-label">Excited</div>
                <div class="emotion-bar-container">
                  <div class="emotion-bar" style="width: 50%"></div>
                </div>
                <div class="emotion-percentage">50%</div>
              </div>
              <div class="emotion-item">
                <div class="emotion-label">Calm</div>
                <div class="emotion-bar-container">
                  <div class="emotion-bar" style="width: 50%"></div>
                </div>
                <div class="emotion-percentage">50%</div>
              </div>
              <div class="emotion-item">
                <div class="emotion-label">Joy</div>
                <div class="emotion-bar-container">
                  <div class="emotion-bar" style="width: 0%"></div>
                </div>
                <div class="emotion-percentage">0%</div>
              </div>
              <div class="emotion-item">
                <div class="emotion-label">Annoyed</div>
                <div class="emotion-bar-container">
                  <div class="emotion-bar" style="width: 0%"></div>
                </div>
                <div class="emotion-percentage">0%</div>
              </div>
              <div class="emotion-item">
                <div class="emotion-label">Sad</div>
                <div class="emotion-bar-container">
                  <div class="emotion-bar" style="width: 0%"></div>
                </div>
                <div class="emotion-percentage">0%</div>
              </div>
            </div>
          </div>

          <!-- Profile Tabs -->
          <div class="profile-tabs">
            <nav class="tab-nav">
              <a href="#" class="tab-link active">Voice Notes</a>
              <a href="#" class="tab-link">Replies</a>
              <a href="#" class="tab-link">Favorites</a>
            </nav>
            
            <div class="tab-content">
              <!-- Voice posts will be loaded here -->
            </div>
          </div>
        </div>
      </template>

      <!-- Voice Preview Dialog -->
      <div id="previewDialog" class="preview-dialog" style="display: none;">
        <div class="preview-content">
          <div class="preview-header">
            <div class="user-info">
              <div class="bitmoji-container preview-avatar">
                <svg viewBox="0 0 100 100" class="bitmoji">
                  <circle cx="50" cy="50" r="45" fill="#FFD180"/>
                  <circle cx="50" cy="45" r="35" fill="#FFAB40"/>
                  <circle cx="35" cy="40" r="5" fill="#212121"/>
                  <circle cx="65" cy="40" r="5" fill="#212121"/>
                  <path d="M35 60 Q50 70 65 60" fill="none" stroke="#212121" stroke-width="3" stroke-linecap="round"/>
                </svg>
              </div>
              <div class="preview-text">
                <h3>You</h3>
                <p>Preview your voice note</p>
              </div>
            </div>
            <button class="close-preview" aria-label="Close preview">
              <span class="material-symbols-outlined">close</span>
            </button>
          </div>

          <div class="audio-player">
            <div class="player-controls">
              <button class="play-btn">
                <span class="material-symbols-outlined">play_arrow</span>
              </button>
              <span class="time-display">0:00</span>
              <div class="progress-bar">
                <div class="progress"></div>
              </div>
              <button class="volume-btn">
                <span class="material-symbols-outlined">volume_up</span>
              </button>
            </div>
          </div>

          <div class="emotion-label">
            <span class="material-symbols-outlined">sentiment_satisfied</span>
            Calm
          </div>

          <div class="action-buttons">
            <div class="button-row">
              <button class="edit-btn action-btn">
                <span class="material-symbols-outlined">edit</span>
                Edit
              </button>
              <button class="post-btn action-btn">
                <span class="material-symbols-outlined">send</span>
                Post
              </button>
            </div>
            <button class="save-draft-btn action-btn">
              <span class="material-symbols-outlined">bookmark</span>
              Save Draft
            </button>
            <button class="discard-btn action-btn">
              <span class="material-symbols-outlined">delete</span>
              Discard
            </button>
          </div>
        </div>
      </div>
    </main>

    <!-- Right Sidebar -->
    <aside class="sidebar-right">
      <!-- Search Bar -->
      <div class="search-container">
        <span class="material-symbols-outlined">search</span>
        <input type="search" placeholder="Search Echo">
      </div>

      <!-- Trending Emotions -->
      <div class="trending-card">
        <h2>Trending Emotions</h2>
        <div class="trending-emotions">
          <div class="emotion-item">
            <span class="label">Excited</span>
            <div class="progress-bar excited">
              <span style="width: 80%"></span>
            </div>
            <span class="percentage">+24%</span>
          </div>
          <div class="emotion-item">
            <span class="label">Joy</span>
            <div class="progress-bar joy">
              <span style="width: 65%"></span>
            </div>
            <span class="percentage">+18%</span>
          </div>
          <div class="emotion-item">
            <span class="label">Calm</span>
            <div class="progress-bar calm">
              <span style="width: 45%"></span>
            </div>
            <span class="percentage">+12%</span>
          </div>
          <div class="emotion-item">
            <span class="label">Annoyed</span>
            <div class="progress-bar annoyed">
              <span style="width: 25%"></span>
            </div>
            <span class="percentage">+3%</span>
          </div>
          <div class="emotion-item">
            <span class="label">Sad</span>
            <div class="progress-bar sad">
              <span style="width: 35%"></span>
            </div>
            <span class="percentage">+5%</span>
          </div>
        </div>
      </div>

      <!-- Trending Voices -->
      <div class="trending-card">
        <h2>Trending Voices</h2>
        <div class="voices-list">
          <div class="voice-item">
            <div class="bitmoji-container post-avatar" data-bitmoji="sarah">
              <svg viewBox="0 0 100 100" class="bitmoji">
                <circle cx="50" cy="50" r="45" fill="#FFE0B2"/>
                <path d="M20 40 h60 v25 q-30 20 -60 0 v-25" fill="#4A148C"/>
                <circle cx="35" cy="40" r="5" fill="#212121"/>
                <circle cx="65" cy="40" r="5" fill="#212121"/>
                <path d="M35 60 Q50 70 65 60" fill="none" stroke="#212121" stroke-width="3" stroke-linecap="round"/>
                <path d="M15 30 q35 -20 70 0" fill="#3E2723" stroke="none"/>
              </svg>
            </div>
            <div class="voice-info">
              <div class="voice-name">Sarah Chen</div>
              <div class="voice-bio">Tech enthusiast & podcaster</div>
            </div>
          </div>
          <div class="voice-item">
            <div class="bitmoji-container post-avatar" data-bitmoji="marcus">
              <svg viewBox="0 0 100 100" class="bitmoji">
                <circle cx="50" cy="50" r="45" fill="#8D6E63"/>
                <path d="M20 30 h60 v10 q-30 20 -60 0 v-10" fill="#212121"/>
                <circle cx="35" cy="40" r="5" fill="#212121"/>
                <circle cx="65" cy="40" r="5" fill="#212121"/>
                <path d="M35 60 Q50 70 65 60" fill="none" stroke="#212121" stroke-width="3" stroke-linecap="round"/>
                <path d="M25 25 h50" stroke="#212121" stroke-width="5"/>
              </svg>
            </div>
            <div class="voice-info">
              <div class="voice-name">Marcus Johnson</div>
              <div class="voice-bio">Music producer & vocalist</div>
            </div>
          </div>
          <div class="voice-item">
            <div class="bitmoji-container post-avatar" data-bitmoji="elena">
              <svg viewBox="0 0 100 100" class="bitmoji">
                <circle cx="50" cy="50" r="45" fill="#FFCCBC"/>
                <path d="M15 35 q35 -30 70 0" fill="#FF5722" stroke="none"/>
                <circle cx="35" cy="40" r="5" fill="#212121"/>
                <circle cx="65" cy="40" r="5" fill="#212121"/>
                <path d="M35 60 Q50 70 65 60" fill="none" stroke="#212121" stroke-width="3" stroke-linecap="round"/>
              </svg>
            </div>
            <div class="voice-info">
              <div class="voice-name">Elena Rodriguez</div>
              <div class="voice-bio">Storyteller & voice artist</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Who to Follow -->
      <div class="follow-card">
        <h2>Who to Follow</h2>
        <div class="voices-list">
          <div class="voice-item">
            <div class="bitmoji-container post-avatar" data-bitmoji="david">
              <svg viewBox="0 0 100 100" class="bitmoji">
                <circle cx="50" cy="50" r="45" fill="#FFE0B2"/>
                <path d="M20 30 h60 v15 q-30 20 -60 0 v-15" fill="#424242"/>
                <circle cx="35" cy="40" r="5" fill="#212121"/>
                <circle cx="65" cy="40" r="5" fill="#212121"/>
                <path d="M35 60 Q50 70 65 60" fill="none" stroke="#212121" stroke-width="3" stroke-linecap="round"/>
                <rect x="20" y="20" width="60" height="5" fill="#F57C00"/>
              </svg>
            </div>
            <div class="voice-info">
              <div class="voice-name">David Kim</div>
              <div class="voice-bio">Audio engineer & creator</div>
            </div>
          </div>
          <div class="voice-item">
            <div class="bitmoji-container post-avatar" data-bitmoji="maya">
              <svg viewBox="0 0 100 100" class="bitmoji">
                <circle cx="50" cy="50" r="45" fill="#FFCCBC"/>
                <path d="M15 35 q35 -20 70 0" fill="#795548" stroke="none"/>
                <circle cx="35" cy="40" r="5" fill="#212121"/>
                <circle cx="65" cy="40" r="5" fill="#212121"/>
                <path d="M35 60 Q50 70 65 60" fill="none" stroke="#212121" stroke-width="3" stroke-linecap="round"/>
                <circle cx="50" cy="25" r="8" fill="#FF9800"/>
              </svg>
            </div>
            <div class="voice-info">
              <div class="voice-name">Maya Patel</div>
              <div class="voice-bio">Voice coach & mentor</div>
            </div>
          </div>
        </div>
      </div>
    </aside>
  </div>

  <!-- Auth Modal -->
  <div class="auth-modal" id="authModal" style="display: none;">
    <div class="auth-form">
      <div class="auth-header">
        <h2>Login</h2>
        <button class="close-btn" onclick="closeAuthModal()" aria-label="Close">
          <span class="material-symbols-outlined">close</span>
        </button>
      </div>
      <input type="email" placeholder="Email" required>
      <input type="password" placeholder="Password" required>
      <button onclick="handleLogin()">Login</button>
      <p class="toggle-form">Need an account? Sign up</p>
    </div>
  </div>

  <!-- Link to external JavaScript -->
  <script src="bitmojis.js"></script>
  <script src="script.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Check if we should show profile
      if (localStorage.getItem('showProfile') === 'true') {
        // Clear the flag
        localStorage.removeItem('showProfile');
        
        // Get the profile link and trigger its click
        const profileLink = document.getElementById('profileLink');
        if (profileLink) {
          profileLink.click();
        }
      }
      
      // Rest of your DOMContentLoaded code...
    });

    let mediaRecorder;
    let audioChunks = [];
    let audioBlob;
    let audioUrl;
    let audio;

    document.getElementById('recordButton').addEventListener('click', async () => {
      try {
        const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
        mediaRecorder = new MediaRecorder(stream);
        audioChunks = [];

        mediaRecorder.ondataavailable = (event) => {
          audioChunks.push(event.data);
        };

        mediaRecorder.onstop = () => {
          audioBlob = new Blob(audioChunks, { type: 'audio/wav' });
          audioUrl = URL.createObjectURL(audioBlob);
          document.getElementById('previewDialog').style.display = 'flex';
          audio = new Audio(audioUrl);
          
          // Reset UI state
          document.querySelector('.progress').style.width = '0%';
          document.querySelector('.time-display').textContent = '0:00';
          document.querySelector('.play-btn .material-symbols-outlined').textContent = 'play_arrow';
        };

        mediaRecorder.start();
        document.getElementById('recordButton').style.display = 'none';
        document.getElementById('stopButton').style.display = 'flex';
      } catch (err) {
        console.error('Error accessing microphone:', err);
      }
    });

    document.getElementById('stopButton').addEventListener('click', () => {
      mediaRecorder.stop();
      mediaRecorder.stream.getTracks().forEach(track => track.stop());
      document.getElementById('stopButton').style.display = 'none';
      document.getElementById('recordButton').style.display = 'flex';
    });

    // Preview Dialog Controls
    document.querySelector('.close-preview').addEventListener('click', () => {
      document.getElementById('previewDialog').style.display = 'none';
      if (audio) {
        audio.pause();
        audio.currentTime = 0;
      }
    });

    document.querySelector('.play-btn').addEventListener('click', function() {
      if (!audio) return;
      
      if (audio.paused) {
        audio.play();
        this.querySelector('.material-symbols-outlined').textContent = 'pause';
      } else {
        audio.pause();
        this.querySelector('.material-symbols-outlined').textContent = 'play_arrow';
      }
    });

    // Update progress bar and time display
    setInterval(() => {
      if (audio && !audio.paused) {
        const progress = (audio.currentTime / audio.duration) * 100;
        document.querySelector('.progress').style.width = `${progress}%`;
        
        const minutes = Math.floor(audio.currentTime / 60);
        const seconds = Math.floor(audio.currentTime % 60);
        document.querySelector('.time-display').textContent = 
          `${minutes}:${seconds.toString().padStart(2, '0')}`;
      }
    }, 100);

    // Handle audio end
    if (audio) {
      audio.addEventListener('ended', () => {
        document.querySelector('.play-btn .material-symbols-outlined').textContent = 'play_arrow';
        document.querySelector('.preview-btn .material-symbols-outlined').textContent = 'play_arrow';
      });
    }

    // Simulated emotion detection (in real app, this would come from voice analysis)
    function detectEmotion() {
      const emotions = [
        { name: 'Excited', icon: 'sentiment_excited' },
        { name: 'Joy', icon: 'sentiment_very_satisfied' },
        { name: 'Calm', icon: 'sentiment_satisfied' },
        { name: 'Annoyed', icon: 'sentiment_dissatisfied' },
        { name: 'Sad', icon: 'sentiment_sad' }
      ];
      // For demo, randomly select an emotion
      const emotion = emotions[Math.floor(Math.random() * emotions.length)];
      
      const emotionLabel = document.querySelector('.emotion-label');
      emotionLabel.innerHTML = `
        <span class="material-symbols-outlined">${emotion.icon}</span>
        ${emotion.name}
      `;
    }

    // Call emotion detection when recording stops
    document.getElementById('stopButton').addEventListener('click', () => {
      mediaRecorder.stop();
      mediaRecorder.stream.getTracks().forEach(track => track.stop());
      document.getElementById('stopButton').style.display = 'none';
      document.getElementById('recordButton').style.display = 'flex';
      // Detect emotion after recording stops
      setTimeout(detectEmotion, 500); // Add slight delay to simulate processing
    });
  </script>

  <style>
    .record-btn {
      margin-top: 16px;
      background: linear-gradient(135deg, #9333EA, #E11D48);
      color: white;
      border: none;
      padding: 16px 32px;
      border-radius: 9999px;
      font-size: 17px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
      box-shadow: 0 4px 12px rgba(147, 51, 234, 0.2);
    }

    .record-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(147, 51, 234, 0.3);
      background: linear-gradient(135deg, #8324db, #d01941);
    }

    .live-room-banner {
      cursor: pointer;
      transition: transform 0.2s ease;
      color: white !important;
    }
    
    .live-room-banner:hover {
      transform: translateY(-2px);
    }

    .live-room-banner .live-room-title,
    .live-room-banner .live-room-description,
    .live-room-banner .live-room-stats,
    .live-room-banner .material-symbols-outlined {
      color: white !important;
    }

    .live-room-banner .stat {
      color: rgba(255, 255, 255, 0.9) !important;
    }

    .join-room-btn .material-symbols-outlined {
      color: #9333EA !important;
    }

    .live-room-description {
      min-height: 40px;
      position: relative;
      margin-bottom: 8px;
    }

    .live-room-stats {
      margin-top: 0;
      padding-top: 0;
    }

    .stat {
      margin: 4px 0;
    }

    .live-room-title {
      margin-bottom: 8px;
    }

    .live-room-banner {
      padding: 24px;
    }

    .animated-text {
      position: absolute;
      left: 0;
      opacity: 0;
      transform: translateY(10px);
      animation-duration: 12s;
      animation-iteration-count: infinite;
      animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    }

    .text1 { animation-name: fadeInOut1; }
    .text2 { animation-name: fadeInOut2; }
    .text3 { animation-name: fadeInOut3; }
    .text4 { animation-name: fadeInOut4; }

    @keyframes fadeInOut1 {
      0%, 100% { opacity: 0; transform: translateY(10px); }
      2% { opacity: 0; transform: translateY(10px); }
      4% { opacity: 1; transform: translateY(0); }
      22% { opacity: 1; transform: translateY(0); }
      24% { opacity: 0; transform: translateY(-10px); }
      25%, 98% { opacity: 0; }
    }

    @keyframes fadeInOut2 {
      0%, 25% { opacity: 0; transform: translateY(10px); }
      27% { opacity: 0; transform: translateY(10px); }
      29% { opacity: 1; transform: translateY(0); }
      47% { opacity: 1; transform: translateY(0); }
      49% { opacity: 0; transform: translateY(-10px); }
      50%, 98% { opacity: 0; }
    }

    @keyframes fadeInOut3 {
      0%, 50% { opacity: 0; transform: translateY(10px); }
      52% { opacity: 0; transform: translateY(10px); }
      54% { opacity: 1; transform: translateY(0); }
      72% { opacity: 1; transform: translateY(0); }
      74% { opacity: 0; transform: translateY(-10px); }
      75%, 98% { opacity: 0; }
    }

    @keyframes fadeInOut4 {
      0%, 75% { opacity: 0; transform: translateY(10px); }
      77% { opacity: 0; transform: translateY(10px); }
      79% { opacity: 1; transform: translateY(0); }
      97% { opacity: 1; transform: translateY(0); }
      99% { opacity: 0; transform: translateY(-10px); }
      100% { opacity: 0; }
    }

    .voice-composer {
      background: white;
      border-radius: 16px;
      padding: 16px;
      margin: 16px 0;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .composer-header {
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .button-container {
      flex-grow: 1;
    }

    .record-voice-btn {
      display: flex;
      align-items: center;
      gap: 8px;
      background: #f0f2f5;
      border: none;
      padding: 12px 24px;
      border-radius: 9999px;
      font-size: 16px;
      color: #65676b;
      cursor: pointer;
      transition: all 0.2s ease;
      width: auto;
    }

    .record-voice-btn:hover {
      background: #e4e6eb;
    }

    #stopButton {
      background: #dc2626;
      color: white;
    }

    #stopButton:hover {
      background: #b91c1c;
    }

    #playButton {
      background: #2563eb;
      color: white;
    }

    #playButton:hover {
      background: #1d4ed8;
    }

    .user-avatar {
      width: 40px;
      height: 40px;
      flex-shrink: 0;
    }

    .preview-dialog {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }

    .preview-content {
      background: #000000;
      border-radius: 16px;
      width: 90%;
      max-width: 480px;
      padding: 24px;
      color: white;
    }

    .preview-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 24px;
    }

    .user-info {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .preview-avatar {
      width: 48px;
      height: 48px;
    }

    .preview-text h3 {
      margin: 0;
      font-size: 18px;
    }

    .preview-text p {
      margin: 4px 0 0;
      color: #666;
      font-size: 14px;
    }

    .close-preview {
      background: none;
      border: none;
      color: #666;
      cursor: pointer;
      padding: 4px;
    }

    .audio-player {
      background: #1a1a1a;
      border-radius: 12px;
      padding: 16px;
      margin: 24px 0;
    }

    .player-controls {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .play-btn {
      background: none;
      border: none;
      color: white;
      cursor: pointer;
    }

    .time-display {
      color: #666;
      font-size: 14px;
      min-width: 45px;
    }

    .progress-bar {
      flex-grow: 1;
      height: 4px;
      background: #333;
      border-radius: 2px;
      position: relative;
    }

    .progress {
      position: absolute;
      left: 0;
      top: 0;
      height: 100%;
      background: #2196f3;
      border-radius: 2px;
      width: 0%;
    }

    .volume-btn {
      background: none;
      border: none;
      color: white;
      cursor: pointer;
    }

    .action-buttons {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .button-row {
      display: flex;
      gap: 12px;
    }

    .action-btn {
      width: 100%;
      padding: 12px;
      border-radius: 24px;
      border: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      font-size: 16px;
      font-weight: 500;
      transition: all 0.2s ease;
    }

    .preview-btn {
      background: #2196f3;
      color: white;
    }

    .edit-btn {
      background: #1a1a1a;
      color: white;
      flex: 1;
    }

    .post-btn {
      background: #2196f3;
      color: white;
      flex: 1;
    }

    .save-draft-btn {
      background: #1a1a1a;
      color: white;
    }

    .discard-btn {
      background: #331111;
      color: #ff4444;
    }

    .action-btn:hover {
      opacity: 0.9;
    }

    .emotion-label {
      display: flex;
      align-items: center;
      gap: 8px;
      background: #1a1a1a;
      border-radius: 24px;
      padding: 8px 16px;
      color: #fff;
      width: fit-content;
      margin: 20px 0;
    }

    .emotion-label .material-symbols-outlined {
      font-size: 20px;
    }
  </style>
</body>
</html>
